
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>App</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.0/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="./assets/main.css" />
  </head>

  <body class="text-center" >
    <form class="form-signin" id="app" @submit.prevent="onSubmit">
        <h1 class="h3 mb-3 font-weight-normal">Please sign in</h1>
        <input type="text" class="form-control" v-model="signin.username" placeholder="Username" required autofocus />
        <input type="password" class="form-control" v-model="signin.password" placeholder="Password" required />
        <button class="btn btn-lg btn-primary btn-block" type="submit" :disabled="isBusy">
          <span v-if="isBusy" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
          Sign in
        </button>
        <div class="my-3" v-if="qr">
          <blockquote class="blockquote text-center">Please scan this QR code with <a href="https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&hl=uk&gl=US">Google Authenticator</a></blockquote>
          <img :src="qr" alt="qr" />
        </div>
        <div class="form-inline" v-if="qr">
          <div class="form-group mb-2">
            <input type="text" v-model="totpCode" class="form-control" placeholder="Please enter confirm code here ..." />
          </div>
          <button type="submit" class="btn btn-primary mb-2" :disabled=" ! totpCode" @click.prevent="onConfirm">Confirm identity</button>
        </div>
    </form>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.2.1/js.cookie.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.14/vue.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
    <script src="./assets/main.js"></script>
  </body>
</html>
